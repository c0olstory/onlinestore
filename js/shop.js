(()=>{"use strict";let e=0;const t=new Basket;new class{constructor(e){var t,s;s=[],(t="_items")in this?Object.defineProperty(this,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):this[t]=s,this.fetchGoods().then((e=>e.json())).then((t=>{const s=t.data.map((t=>new GoodItem(t,e)));this._items=s,this.render(),this.renderShowMore()}))}fetchGoods(){return fetch("/database/items.json")}showMore(){e<3?(fetch(["/database/items1.json","/database/items2.json","/database/items3.json"][e]).then((e=>e.json())).then((e=>{const s=e.data.map((e=>new GoodItem(e,t)));this._items=s,this.render(),this.addMore()})),e++):this.deleteButton(),this.deleteButton()}deleteButton(){const e=document.querySelectorAll(".cart-item__btn");e[e.length-1].remove()}addMore(){e<3&&this.renderShowMore()}renderShowMore(){const e=document.querySelector(".goods-list");new Button("Показать ещё",this.showMore.bind(this),"cart-item__btn").render(e)}render(){this._items.forEach((e=>{e.render()}))}}(t)})();